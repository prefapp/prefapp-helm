{{- define "cronjob.test.data" -}}

name: my-cronjob

schedule: "2 * * * *"

concurrencyPolicy: Allow

successfulJobsHistoryLimit: 0

backoffLimit: 4

failedJobHistoryLimit: 4

pod_labels:
  foo: 1
  faa: 2

containers:
  - name: job 
    image: {{ .Values.image }}
    command:
      - cat
      - /etc/file.txt


{{- end -}}

{{ include "ph.cronjob.render" (include "cronjob.test.data" . | fromYaml ) }}
